- start VMs in parallel
- stress test for how fast to start 100 VMs
- stat command which will show CPU/memory statistics for VM
- print total number of VMs in startAll/showAll
- support logs.fifo in origin VM
- describe ubuntu with base images
http://cdimage.ubuntu.com/ubuntu-base/releases/18.04/release/
dd if=/dev/zero of=./ubuntu.ext bs=1MB count=1000
1000+0 records in
1000+0 records out
1000000000 bytes (1.0 GB, 954 MiB) copied, 1.47798 s, 677 MB/s


mkfs.ext4 ./ubuntu.ext 
mke2fs 1.45.3 (14-Jul-2019)
Discarding device blocks: done                            
Creating filesystem with 244140 4k blocks and 61056 inodes
Filesystem UUID: cb1db88d-eefe-43c7-b1b3-3a2b56b23109
Superblock backups stored on blocks: 
        32768, 98304, 163840, 229376

Allocating group tables: done                            
Writing inode tables: done                            
Creating journal (4096 blocks): done
Writing superblocks and filesystem accounting information: done

sudo mount ./ubuntu.ext /media/usb1
sudo umount /media/usb1

https://kernel.ubuntu.com/~kernel-ppa/mainline/v5.5.2/

VMLINUZ=vmlinuz-5.5.2-050502-generic N=$(grep -abo -m1  $'\037\213\010\000' $VMLINUZ | awk -F: '{print $1+1}') && tail -c +$N $VMLINUZ | gzip -d > vmlinux
g
wget https://raw.githubusercontent.com/torvalds/linux/master/scripts/extract-vmlinux
chmod u+x extract-vmlinux
./extract-vmlinux vmlinuz-5.5.2-050502-generic > vmlinux-5.5.2-050502-generic


http://cloud-images.ubuntu.com/minimal/releases/eoan/release/ubuntu-19.10-minimal-cloudimg-amd64.img
those are in qemu format
qemu-img convert  -p -O raw /home/lynx/Downloads/ubuntu-19.10-minimal-cloudimg-amd64.img /home/lynx/Downloads/ubuntu-19.10-minimal-cloudimg-amd64.raw

losetup /dev/loop0 /home/lynx/Downloads/ubuntu-19.10-minimal-cloudimg-amd64.raw
sudo kpartx -a /dev/loop0
sudo mount /dev/mapper/loop0p1 /mnt

sudo umount /mnt
kpartx -d /dev/loop0
sudo losetup -d /dev/loop0

cp -rfp /mnt/* .
reset password - add kernel argument "init=/bin/bash"

sudo adduser ubuntu sudo



= host =
 Then edit /etc/ufw/sysctl.conf and uncomment:

net/ipv4/ip_forward=1
net/ipv4/conf/all/forwarding=1 
net/ipv6/conf/default/forwarding=1 # if using IPv6


cat > /etc/netplan/01-netcfg.yaml << EOF
network:
    ethernets:
        eth0:
            dhcp4: true
            optional: true
EOF


rm /tmp/sock; firecracker --api-sock /tmp/sock --config-file vm_config.json

ip link add br0 type bridge
ip link set enp0s3 master br0
ip link set tap6 master br0
ip link set br0 up
dhclient br0